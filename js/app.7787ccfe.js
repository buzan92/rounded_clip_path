(function(t){function e(e){for(var i,a,u=e[0],s=e[1],c=e[2],d=0,_=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&_.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);l&&l(e);while(_.length)_.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/rounded_clip_path/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"20e8":function(t,e,n){"use strict";var i=n("315a"),r=n.n(i);r.a},"2a35":function(t,e,n){},"315a":function(t,e,n){},"3a54":function(t,e,n){"use strict";var i=n("c995"),r=n.n(i);r.a},5689:function(t,e,n){"use strict";var i=n("621f"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"app"}},[n("Header"),n("main",{staticClass:"page__inner"},[n("Field",t._b({on:{field_mounted:function(e){return t.field_mounted_handle(e)}}},"Field",t.field_props,!1),t._l(t.points,(function(e,i){return n("Point",t._b({key:i,on:{set_point_coords:t.SET_POINT_COORDS}},"Point",Object.assign({},e,{idx:i}),!1))})),1),n("Sidebar",t._b({on:{set_field_width:t.SET_FIELD_WIDTH,set_field_height:t.SET_FIELD_HEIGHT,set_field_image:t.SET_FIELD_IMAGE,set_corner_radius:t.SET_CORNER_RADIUS,set_points_quantity:t.SET_POINTS_QUANTITY,add_point:t.ADD_POINT,remove_point:t.REMOVE_POINT}},"Sidebar",t.sidebar_props,!1)),n("Result",t._b({},"Result",t.result_props,!1)),(t.is_dev,t._e())],1)],1)},o=[],a=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),u=n("2f62"),s=n("f7fe"),c=n.n(s),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"header__titles"},[n("h2",{staticClass:"title__name"},[t._v(" rounded_clip_path "),n("div",{staticClass:"git-wrapper"},[n("iframe",{attrs:{src:"https://ghbtns.com/github-btn.html?user=buzan92&repo=rounded_clip_path&type=star&count=true",frameborder:"0",scrolling:"0",width:"160px",height:"30px"}})])]),n("h1",{staticClass:"title__description"},[t._v("generate css clip-patch with rounded corners")])])])}],_={},p=_,f=(n("3a54"),n("2877")),h=Object(f["a"])(p,l,d,!1,null,"1190188c",null),m=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"field",staticClass:"field",style:t.field_style},[t._t("default"),n("div",{staticClass:"clip_path-mask",style:t.clip_path_mask_style}),n("div",{staticClass:"clip_path",style:t.clip_path_style})],2)},v=[],b=(n("a9e3"),{name:"field",props:{field_width:[Number,String],field_height:[Number,String],field_image:String,clip_path:String},computed:{field_style:function(t){var e=t.field_width,n=t.field_height;return{width:"".concat(e,"px"),height:"".concat(n,"px")}},clip_path_mask_style:function(t){var e=t.field_image;return{backgroundImage:"url(".concat(e,")")}},clip_path_style:function(t){var e=t.field_image,n=t.clip_path;return{backgroundImage:"url(".concat(e,")"),clipPath:"polygon(".concat(n,")")}}},mounted:function(){this.$emit("field_mounted",this.$refs.field)}}),y=b,O=(n("20e8"),Object(f["a"])(y,g,v,!1,null,"05c2a9d6",null)),x=O.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"point",staticClass:"point",style:t.point_style,attrs:{draggable:"true"},on:{drag:t.drag_handler}})},E=[],S=["#001f3f","#0074D9","#7FDBFF","#39CCCC","#3D9970","#2ECC40","#01FF70","#FFDC00","#FF851B","#FF4136","#85144b","#F012BE","#B10DC9"],P=n("284c");function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D=function(t){return((null===t||void 0===t?void 0:t.x)||0===(null===t||void 0===t?void 0:t.x))&&((null===t||void 0===t?void 0:t.y)||0===(null===t||void 0===t?void 0:t.y))},I=function(t,e,n){var i=t.x-e.x,r=n.x-e.x,o=t.y-e.y,a=n.y-e.y,u=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),s=Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),c=Math.acos((i*r+o*a)/(u*s));return c},C=function(t,e,n){var i={x:t.x-e.x,y:t.y-e.y},r=i.x*Math.cos(n)-i.y*Math.sin(n),o=i.x*Math.sin(n)+i.y*Math.cos(n);return{x:r+e.x,y:o+e.y}},N=function(t,e,n){var i=t.y-e.y,r=e.x-t.x,o=t.x*e.y-e.x*t.y,a=1/Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),u=a*i,s=a*r,c=a*o+n;return{A:u,B:s,C:c}},F=function(t,e,n,i){var r=N(t,e,i),o=r.A,a=r.B,u=r.C,s=N(e,n,i),c=s.A,l=s.B,d=s.C;o/c===a/l&&console.log(":::::::::");var _=(-d*a+u*l)/(-l*o+a*c),p=(-o*_-u)/a;return p?(console.log("XY B!",_,p,o,a,u,"--",c,l,d),{x:_,y:p}):(console.log("&&&XY B!",_,p,o,a,u,"--",c,l,d),{x:_,y:(-c*_-d)/l})},M=function(t,e,n){var i=N(t,e,0),r=i.A,o=i.B,a=i.C,u=(-r*o*n.y+Math.pow(o,2)*n.x-r*a)/(Math.pow(r,2)+Math.pow(o,2)),s=o?(-r*u-a)/o:0;return u||console.log("TTT",r,o,a,u,s),{x:u,y:s}},$=function(t,e,n,i,r){var o=[],a=I(t,e,n);if(console.log("Q corner_angle",a),a===Math.PI/2);else{var u=F(t,e,n,-i);D(u)||console.log("OOO",u);var s=M(t,e,u),c=M(e,n,u);D(s)||(s=u),D(c)||(c=u);var l=I(s,u,c);o.push(j({},s,{title:"A"}));for(var d=1;d<r;d++){var _=C(s,u,l/r*d);o.push(j({},_,{title:d}))}o.push(j({},c,{title:"B"}))}return o},q=function(t,e,n,i){var r=t[e],o=e>=t.length-1?t[0]:t[e+1],a={};return a=e===t.length-2?t[0]:e>=t.length-1?t[1]:t[e+2],$(r,o,a,n,i)},R=function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,Object(P["a"])(q(t,r,e,n)));return i},k={color:S,make_points:R,round_corner:q},A={name:"point",props:{idx:Number,x:[Number,String],y:[Number,String]},data:function(){return{parent_rect:{}}},computed:{point_style:function(t){var e=t.x,n=t.y,i=t.idx;return{backgroundColor:k.color[i],left:"".concat(e,"px"),top:"".concat(n,"px")}}},mounted:function(){this.parent_rect=this.$refs.point.parentNode.getBoundingClientRect()},methods:{drag_handler:function(t){var e=t.pageX,n=t.pageY;e&&n&&this.$emit("set_point_coords",{x:e,y:n,idx:this.idx})}}},L=A,B=(n("ec8b"),Object(f["a"])(L,w,E,!1,null,"44ee8816",null)),H=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v("Dimensions:")]),n("br"),n("br"),t._v(" width: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.field_width_model,expression:"field_width_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.field_width_model},on:{input:function(e){e.target.composing||(t.field_width_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px height: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.field_height_model,expression:"field_height_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.field_height_model},on:{input:function(e){e.target.composing||(t.field_height_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px "),n("br"),n("br"),t._v(" background image url: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.field_image_model,expression:"field_image_model"}],domProps:{value:t.field_image_model},on:{input:function(e){e.target.composing||(t.field_image_model=e.target.value)}}}),n("br"),n("br"),t._v(" radius: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.corner_radius_model,expression:"corner_radius_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.corner_radius_model},on:{input:function(e){e.target.composing||(t.corner_radius_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px point's quantity: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.points_quantity_model,expression:"points_quantity_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.points_quantity_model},on:{input:function(e){e.target.composing||(t.points_quantity_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("br"),n("br"),n("button",{on:{click:function(e){return t.$emit("add_point")}}},[t._v(" add point ")]),n("button",{attrs:{disabled:t.sides<=3},on:{click:function(e){return t.$emit("remove_point")}}},[t._v(" remove point ")])])},Y=[],G={name:"sidebar",props:{field_width:Number,field_height:Number,field_image:String,corner_radius:Number,points_quantity:Number,sides:Number},computed:{field_width_model:{get:function(t){var e=t.field_width;return e},set:function(t){this.$emit("set_field_width",t)}},field_height_model:{get:function(t){var e=t.field_height;return e},set:function(t){this.$emit("set_field_height",t)}},field_image_model:{get:function(t){var e=t.field_image;return e},set:function(t){this.$emit("set_field_image",t)}},points_quantity_model:{get:function(t){var e=t.points_quantity;return e},set:function(t){this.$emit("set_points_quantity",t)}},corner_radius_model:{get:function(t){var e=t.corner_radius;return e},set:function(t){this.$emit("set_corner_radius",t)}}}},X=G,Q=Object(f["a"])(X,U,Y,!1,null,null,null),z=Q.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"},[t._v(" Debug: i: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.i,expression:"i",modifiers:{number:!0}}],attrs:{max:t.points.length-1,min:"0",type:"number"},domProps:{value:t.i},on:{input:function(e){e.target.composing||(t.i=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"field"},t._l(t.dots,(function(e){return n("div",{key:e.title,staticClass:"dot",style:t.dot_style(e)},[t._v(" "+t._s(e.title)+" ")])})),0)])},W=[];function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z={name:"debug",data:function(){return{i:0}},computed:K({},Object(u["d"])(["points","corner_radius","points_quantity"]),{dots:function(t){var e=t.points,n=t.i,i=t.corner_radius,r=t.points_quantity;return k.round_corner(e,n,i,r)}}),methods:{dot_style:function(t){var e=t.x,n=t.y;return{left:"".concat(e,"px"),top:"".concat(n,"px")}}}},tt=Z,et=(n("7b78"),Object(f["a"])(tt,V,W,!1,null,"9e551ad2",null)),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("textarea",{ref:"textarea",staticClass:"textarea__clip-path",style:{height:t.textarea_height+"px"},domProps:{value:t.result},on:{change:t.auto_height}})])},rt=[],ot={name:"result",props:{clip_path:String},data:function(){return{textarea_height:5}},computed:{result:function(t){var e=t.clip_path;return"clip-path: polygon(".concat(e,");")}},mounted:function(){this.auto_height()},methods:{auto_height:function(){this.textarea_height=this.$refs.textarea.scrollHeight}}},at=ot,ut=(n("5689"),Object(f["a"])(at,it,rt,!1,null,"010ce7bc",null)),st=ut.exports;function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt={name:"app",components:{Header:m,Field:x,Point:H,Sidebar:z,Debug:nt,Result:st},data:function(){return{ref_field:{}}},computed:lt({},Object(u["d"])(["field_width","field_height","field_image","corner_radius","points_quantity","points"]),{},Object(u["b"])(["clip_path"]),{field_props:function(t){var e=t.field_width,n=t.field_height,i=t.field_image,r=t.clip_path;return{field_width:e,field_height:n,field_image:i,clip_path:r}},sidebar_props:function(t){var e=t.field_props,n=t.corner_radius,i=t.points_quantity,r=t.points;return lt({},e,{corner_radius:n,points_quantity:i,sides:r.length})},result_props:function(t){var e=t.clip_path;return{clip_path:e}},is_dev:function(){return!1}}),mounted:function(){window.addEventListener("resize",this.update_field)},beforeDestroy:function(){window.removeEventListener("resize",this.update_field)},watch:{field_width:function(){this.update_field()},field_height:function(){this.update_field()}},methods:lt({},Object(u["c"])(["SET_FIELD_X","SET_FIELD_Y","SET_FIELD_WIDTH","SET_FIELD_HEIGHT","SET_FIELD_IMAGE","SET_CORNER_RADIUS","SET_POINTS_QUANTITY","SET_POINT_COORDS","ADD_POINT","REMOVE_POINT"]),{field_mounted_handle:function(t){this.ref_field=t,this.update_field()},update_field:c()((function(){var t=this.ref_field.getBoundingClientRect(),e=t.x,n=t.y;e&&n&&(this.SET_FIELD_X(e),this.SET_FIELD_Y(n))}),100)})},_t=dt,pt=(n("5da4"),Object(f["a"])(_t,r,o,!1,null,"607ea398",null)),ft=pt.exports;n("99af"),n("13d5"),n("fb6a"),n("a434"),n("b680");i["a"].use(u["a"]);var ht=new u["a"].Store({state:{field_x:10,field_y:10,field_width:500,field_height:300,corner_radius:30,points_quantity:7,field_image:"http://apikabu.ru/img_n/2012-09_6/5yf.jpg",points:[{x:112,y:49},{x:373,y:50},{x:351,y:197},{x:134,y:238}]},getters:{clip_path:function(t){var e=t.field_width,n=t.field_height,i=t.points,r=t.corner_radius,o=t.points_quantity;console.log("field_width, field_height, points, corner_radius, points_quantity",e,n,i,r,o);var a=k.make_points(i,r,o);console.log("rounded_points",a);var u=a.reduce((function(t,i){var r=i.x/e*100,o=i.y/n*100;return"".concat(t," ").concat(r.toFixed(2),"% ").concat(o.toFixed(2),"%,")}),"");return u.slice(0,-1)}},mutations:{SET_FIELD_X:function(t,e){t.field_x=e},SET_FIELD_Y:function(t,e){t.field_y=e},SET_FIELD_WIDTH:function(t,e){t.field_width=e},SET_FIELD_HEIGHT:function(t,e){t.field_height=e},SET_FIELD_IMAGE:function(t,e){t.field_image=e},SET_CORNER_RADIUS:function(t,e){t.corner_radius=e},SET_POINTS_QUANTITY:function(t,e){t.points_quantity=e},SET_POINT_COORDS:function(t,e){var n=t.field_x,i=t.field_y,r=t.field_width,o=t.field_height;console.log("SET_POINT_COORDS",r);var a=e.x,u=e.y,s=e.idx;a<n&&(e.x=n),a>n+r&&(e.x=n+r),u<i&&(e.y=i),u>i+o&&(e.y=i+o),e.x-=n,e.y-=i,Object.assign(t.points[s],e)},ADD_POINT:function(t){var e=t.points[0],n=t.points[t.points.length-1],i=(e.x-n.x)/2+n.x,r=(e.y-n.y)/2+n.y;t.points.push({x:i,y:r})},REMOVE_POINT:function(t){var e=t.points;t.points.splice(e.length-1,1)}},actions:{},modules:{}});n("494d");i["a"].config.productionTip=!1,new i["a"]({store:ht,render:function(t){return t(ft)}}).$mount("#app")},"5da4":function(t,e,n){"use strict";var i=n("73e9"),r=n.n(i);r.a},"621f":function(t,e,n){},"73e9":function(t,e,n){},"7b78":function(t,e,n){"use strict";var i=n("d7bc"),r=n.n(i);r.a},c995:function(t,e,n){},d7bc:function(t,e,n){},ec8b:function(t,e,n){"use strict";var i=n("2a35"),r=n.n(i);r.a}});
//# sourceMappingURL=app.7787ccfe.js.map